<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Wealth - Coin Details</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <div class="logo">
      <a href="index.html"><img src="https://picsum.photos/100/50?random=1" alt="Crypto Wealth Logo"></a>
    </div>
    <a href="signup.html" class="btn">Sign-up</a>
    <div class="menu-icon" onclick="openMenu()">☰</div>
    <div id="menu" class="menu">
      <a href="portfolio.html">Portfolio</a>
      <a href="trade.html">Trade</a>
      <a href="wealth-plan.html">Wealth Plan</a>
      <a href="support.html">Support</a>
    </div>
  </header>

  <section class="dashboard-section">
    <h2 id="coin-name">Loading...</h2>
    <p id="coin-price">Price: Loading...</p>
    <canvas id="coin-chart" class="chart-placeholder"></canvas>
    <button onclick="window.location.href='trade.html'" class="btn">Trade Now</button>
  </section>

  <footer>
    <a href="risk.html">Risk Disclosure</a> |
    <a href="privacy.html">Privacy Policy</a> |
    <a href="terms.html">Terms</a> |
    <a href="business.html">Business Account</a>
  </footer>

  <script src="script.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const coin = params.get('coin') || 'bitcoin';

    fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coin}&vs_currencies=eur`)
      .then(response => response.json())
      .then(data => {
        document.getElementById('coin-name').textContent = coin.charAt(0).toUpperCase() + coin.slice(1);
        document.getElementById('coin-price').textContent = `Price: ${data[coin].eur.toLocaleString()} €`;
      })
      .catch(error => console.error('Error fetching price:', error));

    const sampleData = {
      bitcoin: [35000, 35500, 35200, 36000, 36255],
      ethereum: [2400, 2450, 2430, 2480, 2500],
      binancecoin: [500, 510, 505, 520, 525],
      solana: [150, 155, 152, 158, 160],
      cardano: [0.40, 0.42, 0.41, 0.43, 0.45],
      ripple: [0.50, 0.52, 0.51, 0.53, 0.54],
      dogecoin: [0.10, 0.11, 0.10, 0.12, 0.12],
      polkadot: [5.00, 5.10, 5.05, 5.15, 5.20],
      'avalanche-2': [30.00, 31.00, 30.50, 31.50, 32.00],
      chainlink: [10.00, 10.20, 10.10, 10.30, 10.40]
    };

    const ctx = document.getElementById('coin-chart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'],
        datasets: [{
          data: sampleData[coin] || sampleData.bitcoin,
          borderColor: '#FFD700',
          fill: false
        }]
      },
      options: { scales: { x: { display: true }, y: { display: true } } }
    });
  </script>
</body>
</html>
